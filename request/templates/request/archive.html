{% extends 'base.html' %}
{% block 'content' %}
{% load static %}
<div class="archive-bar affix navbar-inverse container-fluid">
    <a href="{% url 'main' %}" target="_self"><button class="back-button"><span>back to APOD.com</span></button></a>
    <img id="logo-archive" src="{% static 'Logo.png' %}">
    <input type="text" name="search" placeholder="Search..">
    <span class="glyphicon glyphicon-search"></span>
</div>
<div class="container-fluid" style="margin-top:60px;">
    <h1>APODs Archive</h1>
    <div style="text-align: center;">
        <ul class="pagination">
            <li><a {% if page_obj.has_previous %}href="?page=1"
                   {% else %}class="btn disabled"{% endif %} data-toggle="tooltip" title="First page"> << </a></li>
            <li><a {% if page_obj.has_previous %}href="?page={{ page_obj.previous_page_number }}"
                   {% else %}class="btn disabled"
                   {% endif %}data-toggle="tooltip" title="Previous page" data-placement="top" data-delay="100"> < </a>
            </li>
            <li><a>PAGE {{ page_obj.number }}/{{ page_obj.paginator.num_pages }}</a></li>
            <li><a {% if page_obj.has_next %}href="?page={{ page_obj.next_page_number }}"
                   {% else %}class="btn disabled"
                   {% endif %}data-toggle="tooltip" title="Next page"> > </a></li>
            <li><a {% if page_obj.has_next %} href="?page={{ page_obj.paginator.num_pages }}"
                   {% else %}class="btn disabled"
                   {% endif %} data-toggle="tooltip" title="Last page"> >> </a></li>
        </ul>
    </div>
        {% for data in object_list %}
        <div class="col-xs-12 col-md-6 col-lg-4">
            <div class="panel panel-default">
                <div class="panel-heading" style="background-color:#0d0d0d; color:white;">
                    <p><b>{{ data.date }}</b></p>
                    <h4>{{ data.title }}</h4>
                    <p style="font-size:10px">Copyright: {{ data.copyright }}</p>
                </div>
                <div class="panel-image">
                    {% if data.type == "image" %}
                        <a href="{{ data.hd_url }}" data-toggle="tooltip" title="Show HD image">
                        <img src="{{ data.url }}" class="panel-image-preview"/></a>
                    {% else %}
                        <iframe src="{{ data.url }}" allowfullscreen frameborder='0'></iframe>
                    {% endif %}
                </div>
                <input type="checkbox" id="toggle-{{ forloop.counter }}" class="panel-image-toggle">
                <div class="panel-body" style="background-color:#0d0d0d; color:white;">
                    <p>{{ data.explanation }}</p>
                </div>
                <div class="panel-footer text-center" style="background-color:#0d0d0d; color:white;">
                    <label for="toggle-{{ forloop.counter }}">
                        <b>DESCRIPTION</b>
                    </label>
                </div>
            </div>
        </div>
        {% endfor %}
</div>

<div style="text-align: center;">
    <ul class="pagination">
        <li><a {% if page_obj.has_previous %}href="?page=1"
               {% else %}class="btn disabled"{% endif %} data-toggle="tooltip" title="First page"> << </a></li>
        <li><a {% if page_obj.has_previous %}href="?page={{ page_obj.previous_page_number }}"
               {% else %}class="btn disabled"
               {% endif %}data-toggle="tooltip" title="Previous page" data-placement="top" data-delay="100"> < </a></li>
        <li><a>PAGE {{ page_obj.number }}/{{ page_obj.paginator.num_pages }}</a></li>
        <li><a {% if page_obj.has_next %}href="?page={{ page_obj.next_page_number }}"
               {% else %}class="btn disabled"
               {% endif %}data-toggle="tooltip" title="Next page"> > </a></li>
        <li><a {% if page_obj.has_next %} href="?page={{ page_obj.paginator.num_pages }}"
               {% else %}class="btn disabled"
               {% endif %} data-toggle="tooltip" title="Last page"> >> </a></li>
        </ul>
</div>
{% endblock %}

